@model IEnumerable<Team>
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="teams">
    <partial name="AddTeam"/>
    @if(Model!=null){
    @foreach (var item in Model)
    {
        <div class="team">
            <h2>@item.TeamName @{

                    if (item.AllUsers.Any(r => r.UserId == ViewBag.UserId))
                    {
                        <a class="btn btn-primary" asp-controller="Home" asp-action="Join" asp-route-teamId="@item.TeamId"
                asp-route-status="remove">Leave</a>
                    }
                    else
                    {
                        <a asp-controller="Home" asp-action="Join" asp-route-teamId="@item.TeamId" asp-route-status="add">Join</a>
                    }
                }
            </h2>
            <ol class="list-group ">
                @foreach (var i in item.AllUsers)
                {
                    <li class="list-group-item">@i.FirstName @i.LastName</li>
                }
            </ol>
        </div>
    }
    }
</div>
